name: Update GitHub Metrics

on:
  schedule:

    - cron: '0 6 * * *'
  workflow_dispatch:

jobs:
  update-metrics:
    runs-on: ubuntu-latest
    steps:
      - name: Generate and commit metrics
        uses: your-username/metrics-generator/action.yml@main
        with:
          target_repository: your-username/repo
          target_branch: main
          access_token: ${{ secrets.METRICS_TOKEN }}
          user_name: ${{ secrets.METRICS_GIT_USER_NAME }}
          git_user_name: ${{ secrets.METRICS_GIT_USER_NAME }}
          git_user_email: ${{ secrets.METRICS_GIT_USER_EMAIL }}
          excluded_languages: php,html,css